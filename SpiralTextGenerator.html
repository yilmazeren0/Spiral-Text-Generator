<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Continuous Spiral Path from Text</title>
    <style>
        #container {
            text-align: center;
            margin: 20px;
        }
        svg {
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>
    <div id="container">
        <h1>Continuous Spiral Path from Text</h1>
        <textarea id="textInput" rows="6" cols="50" placeholder="Enter your text here..."></textarea>
        <br>
        <button onclick="createSpiral()">Create Spiral</button>
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMin slice" viewBox="0 0 800 600">

            <path d="M0 0h800v600H0z" fill="#fff"/>
            
            <defs>
                <path id="spiralPath" d="" /> <!-- burdaki d textin pathını belirlediğimiz yer -->
            </defs>
           
            <text font-family="monospace" font-size="16" fill="#1d1f20">
                <textPath id="textPath" xlink:href="#spiralPath"/>
            </text>
        </svg>
    </div>
    <!-- JS code hocam bu yukarıdaki path ı güncelliyor ve texti spiral şekilde yazdırıyor -->
    <script>
        function createSpiral() {
            const text = document.getElementById('textInput').value;
            const spiralPath = document.getElementById('spiralPath');
            const textPath = document.getElementById('textPath');

            spiralPath.setAttribute('d', '');
            const squareLengthOfText = Math.sqrt(Number(text.length));
            const centerX = 400;
            const centerY = 300;
            const initialRadius = -(squareLengthOfText*(7.5)); // Büyük bir yarıçapla başlıyoruz
            const contractionRate = -0.3; // Yarıçapı küçültme oranımız

            let pathData = `M ${centerX + initialRadius} ${centerY}`;
            let radius = initialRadius;
            let angleStep = 0.1;

            for (let i = 0; i < text.length; i++) {
                const angle = i * angleStep;
                const x = centerX + radius * Math.cos(angle); 
                const y = centerY + radius * Math.sin(angle);

                pathData += ` L ${x} ${y}`;

                radius -= contractionRate; // Yarıçapı küçültüyoruz
            }

            spiralPath.setAttribute('d', pathData);

            textPath.textContent = text;
        }
    </script>
</body>
</html>
